/*! gx-zeyos 2014-11-13 */
gx.zeyos={},window.addEvent("domready",function(){var a=$$("html"),b=a.get("lang");(null==b||""==b)&&a.set("lang","ltr-en")}),Request.File=new Class({Extends:Request,options:{emulation:!1,urlEncoded:!1},initialize:function(a){this.xhr=new Browser.Request,this.formData=new FormData,this.setOptions(a),this.headers=this.options.headers},addFile:function(a){return this.append(a.get("name"),a.files[0]),this},append:function(a,b){return this.formData.append(a,b),this.formData},reset:function(){this.formData=new FormData},send:function(a){null==a&&(a={});var b=a.url||this.options.url;this.options.isSuccess=this.options.isSuccess||this.isSuccess,this.running=!0;var c=this.xhr;return c.open("POST",b,!0),c.onreadystatechange=this.onStateChange.bind(this),Object.each(this.headers,function(a,b){try{c.setRequestHeader(b,a)}catch(d){this.fireEvent("exception",[b,a])}},this),this.fireEvent("request"),c.send(this.formData),this.options.async||this.onStateChange(),this.options.timeout&&(this.timer=this.timeout.delay(this.options.timeout,this)),this}}),gx.zeyos.Checklist=new Class({gx:"gx.zeyos.Checklist",Extends:gx.ui.Container,options:{height:"110px",search:!0,method:"GET",data:!1,url:!1,requestData:{},listValue:"ID",listFormat:function(a){return a.label}},_elems:[],_bg:"",initialize:function(a,b){var c=this;try{this.parent(a,b),this._display.frame=new Element("div",{styles:{height:c.options.height,overflow:"auto"}}),this._display.root.adopt(this._display.frame),this.options.search&&(this._display.search={box:new Element("div",{"class":"bg p2"}),txt:new Element("input",{type:"text","class":"dyn fullw"})},this._display.search.box.inject(this._display.root,"top"),this._display.search.box.adopt(this._display.search.txt),this._display.search.txt.addEvent("keyup",function(){c.search(c._display.search.txt.value)})),this._display.table=new Element("table",{style:"width: 100%"}),this._display.frame.adopt(this._display.table),this.options.url&&this.load(this.options.url,this.options.requestData),gx.util.isArray(this.options.data)&&this.buildList(this.options.data)}catch(d){gx.util.Console("gx.zeyos.Checklist->initialize",d.message)}},buildList:function(a){try{this._display.table.empty(),a.each(function(a){this.addItem(a)},this)}catch(b){gx.util.Console("gx.zeyos.Checklist->buildList",b.message)}},addItem:function(a){try{var b={value:this.options.listFormat(a),input:new gx.zeyos.Toggle(null,{value:a[this.options.listValue]})};b.row=new Element("tr",{"class":"em"+this._bg});var c=new Element("td",{"class":"b_b-1",style:"padding: 3px 13px 3px 3px; width: 50px;"});c.adopt(b.input.toElement()),b.row.adopt(c);var d=new Element("td",{"class":"b_b-1",html:b.value});d.addEvent("click",function(){b.input.toggle()}),b.row.adopt(d),this._display.table.adopt(b.row),this._elems.push(b),this._bg=""==this._bg?" bg-FA":""}catch(e){gx.util.Console("gx.zeyos.Checklist->addItem",e.message)}},search:function(a){try{var b=new RegExp(a);this._elems.each(function(a){-1!=a.value.search(b)?a.row.setStyle("display","table-row"):a.row.setStyle("display","none")},this)}catch(c){gx.util.Console("gx.zeyos.Checklist->search",c.message)}},reset:function(){try{this._elems.each(function(a){a.input.setUnchecked()})}catch(a){gx.util.Console("gx.zeyos.Checklist->reset",a.message)}},getValues:function(){try{var a=[];return this._elems.each(function(b){b.input.getState()&&a.push(b.input.getValue())}),a}catch(b){throw gx.util.Console("gx.zeyos.Checklist->getValues",b.message),b}},load:function(a,b){var c=this;try{this._elems=[],this._bg="",this._display.table.empty(),null==a&&(a=c.options.url),null==b&&(b=c.options.requestData);var d=new Request({method:c.options.method,url:a,data:b,onComplete:function(){c._display.frame.removeClass("loader")},onSuccess:function(a){try{var b=JSON.decode(a);gx.util.isArray(b)?c.buildList(b):gx.util.Console("gx.zeyos.Checklist->search","Invalid server answer: "+a)}catch(d){gx.util.Console("gx.zeyos.Checklist->search",d.message)}},onRequest:function(){c._display.frame.addClass("loader")}});d.send()}catch(e){gx.util.Console("gx.zeyos.Checklist->search",e.message)}}}),gx.zeyos.Client=new Class({options:{url:"./remotecall.php"},post:function(a,b,c,d){this.request(b,"POST",c,d,a)},get:function(a,b,c,d){this.request(b,"GET",c,d,a)},request:function(a,b,c,d,e){var f=this,g=new Request({url:f.options.url+(null==e?"":e),method:null==b?"GET":b,data:a,onRequest:function(){},onComplete:function(){},onFailure:function(){ZeyOSApi.showMsgRuntimeError("Connection error! Could not retrieve data from server!")}});if(gx.util.isFunction(c))g.addEvent("complete",function(a){if(null!=d){a=JSON.decode(a);var b=typeOf(a);b!=d&&("object"==b&&null!=a.message?ZeyOSApi.showMsgRuntimeErrore("Server error: "+a.message):ZeyOSApi.showMsgRuntimeError('Invalid server response! Server returned "'+b+'", "'+d+'" expected!'),a=!1)}c.run([a],f)});else if(gx.util.isObject(c))for(evtType in c)g.addEvent(evtType,c[evtType]);g.send()}}),gx.zeyos.DatePicker=new Class({gx:"gx.zeyos.DatePicker",Extends:gx.ui.Container,options:{date:!1,format:"%a %d.%m.%Y %H:%M",return_format:"%s",width:"130px",positionOffset:{x:0,y:0},timePicker:!0,picker:{},readOnly:!1},_date:!1,_picker:void 0,bound:{},initialize:function(a,b){try{this.parent(a,b),this._display.input=new Element("input",{type:"text","class":"span2",styles:{width:this.options.width}}),this._display.root.adopt(new Element("fieldset",{"class":"datepicker_zeyos_fieldset"}).adopt(this._display.input)),this.bound.dateSelect=this.dateSelectHandler.bind(this),"date"!=typeOf(this.options.date)&&(this.options.date=new Date),this.createPicker(),this.set(this.options.date)}catch(c){gx.util.Console("gx.bootstrap.DatePicker->initialize",gx.util.parseError(c))}},createPicker:function(){var a=this._picker;return this._picker=new Picker.Date(this._display.input,Object.merge({positionOffset:this.options.positionOffset,pickerClass:"datepicker_zeyos",format:this.options.format,scanAlwaysGoUp:!1,draggable:!1,timePicker:this.options.timePicker,toggle:this._display.btnSelect},this.options.picker)).addEvent("select",this.bound.dateSelect),this.options.readOnly?(this._display.input.setProperty("readonly","readonly"),this._picker.detach()):this._display.input.erase("readonly"),a&&a.destroy(),this},dateSelectHandler:function(a){this._date=a,this.fireEvent("select",a)},setReadOnly:function(a){return this.options.readOnly=!!a,this.createPicker(),this},setFormat:function(a,b){return this.options.format=a,this.options.timePicker=b,this.createPicker(),"date"===typeOf(this._date)&&this.set(this._date),this},set:function(a){return null!=a&&this._picker.select("date"==typeOf(a)?a:Date.parse(a)),this},get:function(a){return null!=a?this._date.format(a):null!=this.options.return_format?this._date.format(this.options.return_format):this._date},getSeconds:function(){return this._date.getTime()/1e3}}),gx.zeyos.Datebox=new Class({gx:"gx.zeyos.Datebox",Extends:gx.ui.Container,options:{timestamp:0,unit:"milliseconds",format:["d",".","M",".","y","&nbsp;","h",":","i"],month:["Jan.","Feb.","März","Apr.","Mai","Jun.","Jul.","Aug.","Sept.","Okt.","Nov.","Dez."]},_fields:{},initialize:function(a,b){try{this.parent(a,b),this.build()}catch(c){gx.util.Console("gx.zeyos.Datebox->initialize",c.message)}},buildField:function(a){var b=this;try{var c,d,e=!1;switch(a){case"d":e=e||"day",d=d||25;case"m":e=e||"month",d=d||25;case"y":e=e||"year",d=d||45;case"h":e=e||"hour",d=d||25;case"i":e=e||"minute",d=d||25;case"s":e=e||"second",d=d||25,c=new Element("input",{type:"text",styles:{width:d+"px","text-align":"center"}});break;case"M":e="month",c=new Element("select"),this.options.month.each(function(a,d){c.adopt(new Element("option",{value:b.addZero(d+1),html:a}))});break;default:return a}return this._fields[e]=c,c}catch(f){throw gx.util.Console("gx.zeyos.Datebox->buildField",f.message),f}},build:function(){var a=this;try{var b=this.options.format;b.each(function(b){var c=this.buildField(b);"element"==typeOf(c)?(this._display.root.adopt(c),c.addEvent("select"==c.get("tag")?"change":"blur",function(){a.update()})):this._display.root.adopt(new Element("span",{html:c,styles:{padding:"0 2px"}}))},this)}catch(c){gx.util.Console("gx.zeyos.Datebox->build",c.message)}},update:function(){var a=this.get();this.set(a),this.fireEvent("update",a)},addZero:function(a){return 10>a?"0"+a:a},parseField:function(a){return a=parseInt(a,10),isNaN(a)?0:a},set:function(a,b){try{a=parseInt(a,10),null==b&&(b=this.options.unit),"seconds"==b&&(a=1e3*a);var c=new Date(a);this._fields.day&&this._fields.day.set("value",this.addZero(c.getDate())),this._fields.month&&this._fields.month.set("value",this.addZero(c.getMonth()+1)),this._fields.year&&this._fields.year.set("value",this.addZero(c.getFullYear())),this._fields.hour&&this._fields.hour.set("value",this.addZero(c.getHours())),this._fields.minute&&this._fields.minute.set("value",this.addZero(c.getMinutes())),this._fields.second&&this._fields.second.set("value",this.addZero(c.getSeconds()))}catch(d){gx.util.Console("gx.zeyos.Datebox->set",d.message)}},get:function(a){try{null==a&&(a=this.options.unit);var b=new Date(this._fields.year?this.parseField(this._fields.year.get("value")):1970,this._fields.month?this.parseField(this._fields.month.get("value"))-1:0,this._fields.day?this.parseField(this._fields.day.get("value")):1,this._fields.hour?this.parseField(this._fields.hour.get("value")):0,this._fields.minute?this.parseField(this._fields.minute.get("value")):0,this._fields.second?this.parseField(this._fields.second.get("value")):0);return"seconds"==a?b.getTime()/1e3:b.getTime()}catch(c){throw gx.util.Console("gx.zeyos.Datebox->get",c.message),c}},enable:function(){this._fields.day&&this._fields.day.erase("disabled"),this._fields.month&&this._fields.month.erase("disabled"),this._fields.year&&this._fields.year.erase("disabled")},disable:function(){this._fields.day&&this._fields.day.set("disabled",!0),this._fields.month&&this._fields.month.set("disabled",!0),this._fields.year&&this._fields.year.set("disabled",!0)}}),gx.zeyos.Dialog=new Class({Extends:gx.ui.Container,options:{title:"",height:400},_frames:{},_current:!1,initialize:function(a,b){null==a&&(a=new Element("div"),$(document.body).adopt(a)),this.parent(a,b),this._ui.title=new Element("div",{"class":"bg-F fs-18 br_t-5",html:this.options.title}),this._ui.content=new Element("div",{styles:{height:this.options.height,overflow:"auto"}}),this._ui.footer=new Element("div",{"class":"mi_t-10"}),this._ui.root.adopt([this._ui.title,new Element("hr"),this._ui.content,this._ui.footer])},setTitle:function(a){gx.util.isString(a)?this._ui.title.set("html",a):(this._ui.title.empty(),this._ui.title.adopt(a))},initFooter:function(a){switch(typeOf(a)){case"element":return a;case"object":case"array":break;default:return __({child:{tag:"button","class":"fl-r",html:_("action.close"),onClick:function(){ZeyOSApi.hidePop()}}})}var b=new Element("div"),c=[];return Object.each(a,function(a,d){var e=new Element("button",{"class":"m_l-5 fl-r",html:(null==a.icon?"":'<i class="icon-'+a.icon+'"></i> ')+a.label});null!=a.click&&e.addEvent("click",a.click),a.primary&&e.addClass("em fb"),b["_"+d]=e,c.push(e)}),c.reverse(),c.push(new Element("div",{"class":"clr"})),b.adopt(c),b},openFrame:function(a){return this._current&&this._current.content.setStyle("display","none"),this._current=this._frames[a],this._ui.content.empty(),this._ui.content.adopt(this._current.content),this._ui.footer.empty(),this._ui.footer.adopt(this._current.footer),null!=this._current.title&&this.setTitle(this._current.title),this._current},getFrame:function(a){return this._frames[a]},addFrame:function(a,b,c){this._frames[a]={title:void 0==b.title?null:b.title,content:__(b.content),footer:this.initFooter(b.footer)},(!this._current&&c!==!1||c===!0)&&this.openFrame(a)},addSubmitFrame:function(a,b,c,d){return this.addFrame(a,{title:this.options.title,content:__({children:b}),footer:{close:{label:_("action.close"),click:function(){ZeyOSApi.hidePop()}},ok:{label:_("action.ok"),primary:!0,click:function(){c()}}}},d),b},addFormFrame:function(a,b,c,d){var e={},f=[],g="";return Object.each(b,function(a,b){f.push({tag:"p",html:null==a[0]?"":a[0],"class":g}),g="m_t-1M",f.push(a[1]),e[b]=a[1]}),this.addSubmitFrame(a,f,c,d),e},addSuccessFrame:function(a,b,c,d){this.addFrame(a,{title:this.options.title,content:__({styles:{"text-align":"center"},children:{icon:{styles:{color:"#73b03c","font-size":"96px","text-shadow":"2px 2px #EFEFEF"},child:{tag:"i","class":"icon-ok"}},msg:{styles:{"margin-top":"10px","margin-bottom":"20px","font-size":"14px"},child:__(b)},link:null==c?null:{tag:"button","class":"em fb",html:'<i class="icon-link-ext"></i> '+_("action.open"),onClick:function(){window.open(c)}}}})},d)},getFormValues:function(a){var b={};return Object.each(a,function(a,c){switch(typeOf(a)){case"element":null!=a.get("value")&&(b[c]=a.get("value"));break;case"object":instanceOf(a,gx.ui.Container)&&("function"==typeOf(a.getValue)?b[c]=a.getValue():"function"==typeOf(a.getValues)?b[c]=a.getValues():"function"==typeOf(a.getId)?b[c]=a.getId():"function"==typeOf(a.get)&&(b[c]=a.get()))}}),b}}),function(){var a=[];window.addEvent("click",function(b){for(var c in a)if(a.hasOwnProperty(c)){for(var d=a[c],e=!0,f=b.target,g=0;4>g&&void 0!=f;g++){if(f==d._display.frame){e=!1;break}f=f.getParent()}e&&d.close()}}),gx.zeyos.Dropdown=new Class({gx:"gx.zeyos.Dropdown",Extends:gx.ui.Container,options:{width:null,resettable:!1,emptyCaption:null,label:!1,compact:!1,upside:!1},_selected:null,_items:{},_resetItem:null,initialize:function(b,c){this.parent(b,c);var d=this;this._display.frame=new Element("div",{"class":"drp"}),this._display.button=new Element("button",{type:"button",html:this.options.label?this.options.label:""}).addEvent("click",function(a){a.preventDefault(),d.toggle()}),c.compact&&this._display.frame.addClass("compact"),this._display.section=new Element("section"),this._display.root.adopt([this._display.frame.adopt([this._display.button,this._display.section])]),void 0!=this.options.items&&(this.setItems(this.options.items),this._resetItem&&this._resetItem.addClass("act")),null!=this.options.width&&this._display.button.setStyles({width:this.options.width,overflow:"hidden","text-overflow":"ellipsis"}),a.push(this)},setItems:function(a){this._items={};var b=this;this._display.section.empty(),this.options.resettable&&(this._resetItem=new Element("fieldset",{"class":"drp_item",html:'<span style="font-style:italic;">'+(this.options.emptyCaption?this.options.emptyCaption:"Empty")+"</span>","data-value":""}),this._resetItem.addEvent("click",function(a){b.reset(),a.stop()}),this._display.section.adopt(this._resetItem));var c,d,e,f=function(a,c,d){a.addEvent("click",function(a){b.selectItem(c,d),a.stop()})};for(var g in a)if(a.hasOwnProperty(g)){"object"==typeof a[g]?(c=a[g].text,d=a[g].html,e=null==a[g].onClick?!1:a[g].onClick):(c=a[g],d=a[g],e=!1);var h=__({tag:"fieldset","class":"drp_item",child:d,"data-value":g});this._items[g]=h,e?h.addEvent("click",e):f(h,g,c),this._display.section.adopt(h)}return this},selectItem:function(a,b){return this._selected&&this._selected.removeClass("act"),this._resetItem&&this._resetItem.removeClass("act"),this._display.frame.set("data-value",a),this._display.button.empty(),!this.options.compact&&this.options.label&&this._display.button.adopt(new Element("b",{html:this.options.label+": "})),this._display.button.set("html",this._display.button.get("html")+b),this._display.button.set("title",b),this._selected=this._items[a],this._selected&&this._selected.addClass("act"),this.options.compact||this._display.button.set("data-ico-b",gx.zeyos.Factory.Icon("checked")),this.close(),this.fireEvent("change",[a,b,this]),this},reset:function(){return this._selected&&(this._selected.removeClass("act"),this._selected=null),this._resetItem&&this._resetItem.addClass("act"),this._display.button.empty(),this._display.button.set("html",this.options.label),this._display.button.erase("data-ico-b"),this._display.button.erase("title"),this.close(),this.fireEvent("change",[null,this.options.emptyCaption,this]),this},getSelected:function(){return{value:this._selected.get("data-value"),label:this._selected.get("text")}},getValue:function(){return this._selected?this._selected.get("data-value"):""},show:function(){return this._display.frame.addClass("act"),this.options.upside&&this._display.section.setStyle("top",-1*(this._display.section.getSize().y+1)),this},close:function(){return this._display.frame.removeClass("act"),this},toggle:function(){return this._display.frame.hasClass("act")?this.close():this.show()}})}(),gx.zeyos.Factory={gx:"gx.zeyos.Factory",Icon:function(a){return"list"==a?a="l":"plus"==a?a="⊕":"clock"==a?a="⌚":"range"==a?a="s":"reload"==a?a="⟲":"clear"==a?a="d":"settings"==a?a="e":"eye"==a?a="E":"trash"==a?a="T":"fields"==a?a="g":"search"==a?a="z":"lock"==a?a="L":"checked"==a?a="✔":"question"==a?a="?":alert("unsupported icon"),a},Button:function(a,b,c,d){void 0==d&&(d={}),null==b?b="":"dark"==b?b="em":("gray"==b||"grey"==b)&&(b=""),c=void 0!=c?gx.zeyos.Factory.Icon(c):"";var e=new Element("button",Object.merge({type:"button",value:a,"class":b,html:a},d));return null==a||""==a?e.set("data-ico",c):e.set("data-ico-a",c),e},ButtonsGroup:function(a){return new Element("div",{"class":"grp"}).adopt(a)}},gx.zeyos.Groupbox=new Class({gx:"gx.zeyos.Groupbox",Extends:gx.ui.Container,options:{title:"",open:!0},_isOpen:!0,initialize:function(a,b){var c=this;try{this.parent(new Element("div",{"class":"m_l-10 m_r-10"}),b),this._display.body=a,this._display.root.inject(this._display.body,"before"),this._display.inner=new Element("div",{"class":"bg-F br_b-5 bsd-2 fs-11 tsd_b-W8"}),this._display.bar=new Element("h1",{html:c.options.title}),this._display.root.adopt([this._display.bar,this._display.inner.adopt(this._display.body)]),this._display.bar.addEvent("click",function(){this.toggle()}.bind(this)),this.options.open&&this._display.bar.addClass("act")}catch(d){gx.util.Console("gx.zeyos.Groupbox->initialize",d.message)}},toggle:function(){this._display.bar.toggleClass("act")},open:function(){this._display.bar.addClass("act")},close:function(){this._display.bar.removeClass("act")},isOpen:function(){return this._display.bar.hasClass("act")}}),gx.zeyos.MasterPanel=new Class({gx:"gx.zeyos.MasterPanel",Extends:gx.ui.Container,initialize:function(a,b,c,d){this._title=new Element("h2"),this._content=new Element("div",{"class":"bg-W b_l-25 b_r-25 of-h"}),this._buttons=new Element("div",{"class":" fb mi_b-7 p_t-7"}),this.parent(a),this.toElement().adopt([new Element("div",{"class":"fix_t"}).adopt(new Element("section",{"class":"m_l-10 m_r-10"}).adopt([this._title,new Element("div",{"class":"bg-E p_l-7 p_r-7 p_t-7"}).adopt(new Element("div",{"class":"bg-W b_b-25"}))])),new Element("div",{"class":"bg-E m_l-10 m_r-10 p_l-7 p_r-7"}).adopt(this._content),new Element("div",{"class":"fix_b"}).adopt(new Element("div",{"class":"m_l-10 m_r-10"}).adopt(new Element("div",{"class":"bg-E br_b-5 bsd-3"}).adopt([new Element("div",{"class":"bg-W b_t-25 m_l-7 m_r-7"}),this._buttons])))]),null!=b&&this.setTitle(b),null!=c&&this.setContent(c),null!=d&&this.setButtons(d)},setTitle:function(a){gx.util.isString(a)?this._title.set("html",a):(this._title.empty(),this._title.adopt(a))},setContent:function(a){gx.util.isString(a)?this._content.set("html",a):(this._content.empty(),this._content.adopt(a))},setButtons:function(a){this._buttons.empty(),this._buttons.adopt(a)}}),gx.zeyos.MonthPicker=new Class({gx:"gx.zeyos.MonthPicker",Extends:gx.zeyos.DatePicker,options:{format:"%B"},initialize:function(a,b){try{null==b&&(b={}),null==b.picker&&(b.picker={}),b.picker.pickOnly="months",this.parent(a,b)}catch(c){gx.util.Console("gx.zeyos.MonthPicker->initialize",gx.util.parseError(c))}}}),gx.zeyos.Msgbox=new Class({gx:"gx.zeyos.Msgbox",Extends:gx.core.Settings,options:{closable:!0,content:!1},initialize:function(a){var b=this;try{this.parent(a),this._display={frame:new Element("div",{"class":"msg",valign:"center",styles:{left:"50%"}})},this._display.content=new Element("p"),this._display.img=new Element("div"),this._display.frame.adopt(this._display.img),this._display.frame.adopt(this._display.content),this.options.closable&&this._display.frame.addEvent("click",function(){b.hide()}),this.options.content&&this.setContent(this.options.content),$(document.body).adopt(this._display.frame)}catch(c){gx.util.Console("gx.zeyos.Msgbox->initialize",c.message)}},setContent:function(a){try{this._display.content.empty(),gx.util.isNode(a)?(this._display.content.emptyy(),this._display.content.adopt(a)):gx.util.isString(a)&&this._display.content.set("html",a)}catch(b){gx.util.Console("gx.zeyos.Msgbox->setContent",b.message)}},show:function(a,b){try{null!=a&&(null==b&&(b="info"),this._display.img.set("class","s_msg_32_"+b),this.setContent(a)),this._display.frame.setStyle("margin-left",this._display.frame.getStyle("width").toInt()/-2),this._display.frame.addClass("act")}catch(c){gx.util.Console("gx.zeyos.Msgbox->show",c.message)}},hide:function(){this._display.frame.removeClass("act")}}),gx.zeyos.Panel=new Class({Extends:gx.ui.Container,initialize:function(a,b,c,d){var e=this;this._title=new Element("h1").addEvent("click",function(){e.toggle()}),this._content=new Element("div",{"class":"b-25 bg-W d-b"}),this._section=new Element("section",{"class":"bg-E br_b-5 bsd-3 p-7"}),this.parent(a),this.toElement().set({"class":"m_l-10 m_r-10 m_t-10"}).adopt([this._title,this._section.adopt([this._content])]),null!=b&&this.setTitle(b),null!=c&&this.setContent(c),(void 0==d||0!=d)&&this.open()},setTitle:function(a){gx.util.isString(a)?this._title.set("html",a):(this._title.empty(),this._title.adopt(a))},setContent:function(a){gx.util.isString(a)?this._content.set("html",a):(this._content.empty(),this._content.adopt(a))},open:function(){this._title.addClass("act"),this._section.show()},close:function(){this._title.removeClass("act"),this._section.hide()},toggle:function(){this._title.hasClass("act")?this.close():this.open()}}),gx.zeyos.Permission=new Class({gx:"gx.zeyos.Permission",Extends:gx.ui.Container,options:{value:!0,groups:[]},_fields:{},_labels:{},_shared:!1,initialize:function(a,b){this.parent(a,b);var c={owner:["Owner","field.owner"],"public":["Public","field.public"],shared:["Shared","field.shared"],"private":["Private","field.private"]};"function"==typeof _?Object.each(c,function(a,b){this._labels[b]=_(a[1])}.bind(this)):Object.each(c,function(a,b){this._labels[b]=a[0]}.bind(this)),this._display.select=new gx.zeyos.SelectFilter(null,{data:this.options.groups,allowEmpty:!0}),this._display.checkbox=new Element("input",{type:"checkbox","class":"m_r-6X"}),this._display.indicator=new Element("span",{"class":"fc-B6 fn m_l-10X"}),this._display.root.adopt([__({tag:"p",child:{tag:"label",children:[this._display.checkbox,this._labels.owner,this._display.indicator]}}),this._display.select]),this._display.checkbox.addEvent("click",function(){this.set(this._display.checkbox.checked?!0:!1)}.bind(this)),this.set(this.options.value)},set:function(a){a===!1||"private"===a?(this._display.select._display.textbox.set("placeholder","("+this._labels.private+")"),this._display.indicator.set("html","("+this._labels.private+")"),this._display.select.set(),this._display.select.disable(),this._display.checkbox.checked=!1,this._shared=!1):(this._display.select._display.textbox.set("placeholder","("+this._labels.public+")"),this._display.indicator.set("html","("+this._labels.shared+")"),this._display.checkbox.checked=!0,this._display.select.enable(),this._display.select.reset(),this._shared=!0,a!==!0&&"public"!==a&&this._display.select.setId(a))},get:function(){if(this._shared){var a=this._display.select.getId();return null==a?"public":a}return"private"}}),gx.zeyos.Popup=new Class({gx:"gx.zeyos.Popup",Extends:gx.core.Settings,options:{width:600,closable:!0,overlayDismiss:!0,content:!1},initialize:function(a){var b=this;try{this.parent(a),this._display={aside:new Element("aside"),content:new Element("section")},this.options.closable&&this._display.aside.adopt(new Element("div",{"class":"img_close",title:"Close"}).addEvent("click",function(){b.hide()})),this._display.aside.adopt(this._display.content),this._popup=new gx.ui.Popup($(document.body),{color:"#000",freezeColor:"#000",opacity:"0.40",content:b._display.aside}),this._popup._display.content.addClass("pop"),this.options.closable&&this.options.overlayDismiss&&this._popup.addEvent("click",function(){b.hide()}),this.options.content&&this.setContent(this.options.content)}catch(c){gx.util.Console("gx.zeyos.Popup->initialize",c.message)}},show:function(a){return this.fireEvent("show",a),this._popup.show(),this._popup._display.content.addClass("act"),this.setPosition()},hide:function(a){return this.fireEvent("hide",a),this._popup.hide(),this._popup._display.content.removeClass("act"),this},setContent:function(a){try{switch(this._display.content.empty(),typeOf(a)){case"element":case"elements":case"textnode":this._display.content.adopt(a);break;case"object":this._display.content.adopt(__(a));break;case"string":case"number":this._display.content.set("html",a)}}catch(b){gx.util.Console("gx.zeyos.Popup->initialize",b.message)}return this},setPosition:function(a,b){try{null==a&&(a=this.options.x),null==b&&(b=this.options.y);var c=window.getSize(),d=this._display.content.getCoordinates();"left"==a?this._popup._display.content.setStyle("left",5):"right"==a?this._popup._display.content.setStyle("left",c.x-d.width-35):this._popup._display.content.setStyle("left",(c.x-d.width)/2),"top"==b?this._popup._display.content.setStyle("top",15):"bottom"==b?this._popup._display.content.setStyle("top",c.y-d.height-25):this._popup._display.content.setStyle("top",(c.y-d.height)/2)}catch(e){gx.util.Console("gx.zeyos.Popup->setPosition: ",e.message)}return this}}),gx.zeyos.Request=new Class({Extends:gx.core.Settings,options:{service:!1,accesskey:!1},_files:[],initialize:function(a){this.parent(a),"function"==typeOf(a.showError)&&(this.showError=a.showError),this.baseUrl="../remotecall/"+this.options.service+(this.options.accesskey?":"+this.options.accesskey:"")+"/"},setService:function(a,b){this.options.service=a,this.options.accesskey=null==b?b:!1},send:function(a,b,c,d){var e,f={url:this.baseUrl+a,method:d,data:b,onRequest:function(){this.fireEvent("request")}.bind(this),onComplete:function(){this.fireEvent("complete")}.bind(this),onFailure:function(a){if(""!=a.responseText){var b=a.responseText;res=JSON.decode(b),"object"==typeOf(res)&&this.showError(null!=res.error?"Error: "+res.error:"Server error ("+a.status+") "+b),this.fireEvent("failure",b)}this.fireEvent("failure")}.bind(this),onSuccess:function(a){this.fireEvent("success",a),res=JSON.decode(a),"object"==typeOf(res)?null!=res.error?(console.log("gx.zeyos.Request: ",res.error),this.showError("Error: "+res.error),this.fireEvent("failure",a)):null==res.result?(console.log("gx.zeyos.Request: Invalid response (no result) - ",a),this.showError("Invalid response (no result): "+a),this.fireEvent("failure",a)):c(res.result):this.showError("Invalid response: "+a)}.bind(this)};null!=this._files[0]?(e=new Request.File(f),this._files.each(function(a){e.addFile(a)})):e=new Request(f),e.send(),this._files=[]},showError:function(a){alert(a)},openLink:function(a){window.open(this.baseUrl+a,"_blank")},upload:function(a,b,c,d){this._files=c,this.send(a,b,d,"POST")},post:function(a,b,c){this.send(a,b,c,"POST")},get:function(a,b,c){this.send(a,b,c,"GET")},put:function(a,b,c){this.send(a,b,c,"PUT")},"delete":function(a,b,c){this.send(a,b,c,"PUT")}}),gx.zeyos.Search=new Class({Extends:gx.ui.Container,Implements:[Events],initialize:function(){var a=this,b=new Element("div",{"class":"att"});this.parent(b),this._ui.searchBox=new Element("input",{placeholder:"Search","x-webkit-speech":"",value:""}).addEvents({input:function(b){a.fireEvent("input",[a,this,b])},keypress:function(b){a.fireEvent("keypress",[a,this,b])}}),this._ui.button=gx.zeyos.Factory.Button("","","search").addEvent("click",function(b){a.fireEvent("click",[a,this,b])}),b.adopt(this._ui.searchBox,this._ui.button)},get:function(){return this._ui.searchBox.value}}),gx.zeyos.Select=new Class({gx:"gx.zeyos.Select",Extends:gx.ui.Container,options:{height:"auto",allowEmpty:!1,selectionLabel:!1,icon:"chevron-down",resetable:!1,textboxClass:!1,data:null,elementIndex:"ID",elementLabel:"name",elementSelect:"name",elementDefault:null,value:null,msg:{noSelection:"No Selection"}},_closed:!0,_selected:null,_currentElem:null,_running:!1,initialize:function(a,b){var c=this;try{this.parent(a,b),this._display.root.addClass("gx-zeyos-select"),this._display.fieldset=new Element("fieldset",{"class":"sel",name:"view",styles:{"max-width":+c.options.width}}),this.options.fieldsetClass&&this._display.fieldset.addClass(this.options.fieldsetClass),this._display.textbox=new Element("input",{type:"text","class":"form-control",placeholder:"("+this.getMessage("noSelection")+")"}),this.options.textboxClass&&this._display.textbox.addClass(this.options.textboxClass),this._display.dropdown=new Element("section",{styles:{"max-height":this.options.height}}),this._display.root.adopt(this._display.fieldset.adopt([this._display.textbox,this._display.dropdown])),this.fxScoll=new Fx.Scroll(this._display.dropdown,{offset:{y:-100}}),this._display.textbox.addEvents({click:function(){this.show()}.bind(this),focus:function(){this.show()}.bind(this),blur:function(){this.hide.delay(300,c)}.bind(this),keypress:function(a){return"tab"!=a.key?"up"==a.key||"down"==a.key?void a.preventDefault():void(null==this.search&&a.preventDefault()):void 0}.bind(this),keydown:function(a){return"tab"!=a.key?"up"==a.key||"down"==a.key?void a.preventDefault():void(null==this.search&&a.preventDefault()):void 0}.bind(this),keyup:function(a){if("tab"!=a.key){if("esc"==a.key)this.hide();else{if("up"==a.key||"down"==a.key){a.preventDefault(),this.show();var b;return null==this._currentElem?b="down"==a.key?this._display.dropdown.getFirst(":not(.hidden)"):this._display.dropdown.getLast(":not(.hidden)"):"down"==a.key?(b=this._currentElem.getNext(":not(.hidden)"),null==b&&this._currentElem==this._display.dropdown.getLast(":not(.hidden)")&&(b=this._display.dropdown.getFirst(":not(.hidden)"))):(b=this._currentElem.getPrevious(":not(.hidden)"),null==b&&this._currentElem==this._display.dropdown.getFirst(":not(.hidden)")&&(b=this._display.dropdown.getLast(":not(.hidden)"))),void(null!=b&&(null!=this._currentElem&&this._currentElem.removeClass("act"),this._currentElem=b,this._currentElem.addClass("act"),this.fxScoll.toElement(this._currentElem)))}if("enter"==a.key)return void(null!=this._currentElem&&this._currentElem.fireEvent("click"))}null!=this.search?(this.show(),this.search()):a.preventDefault()}}.bind(this)}),gx.util.isFunction(this.options.elementIndex)&&(this.getId=this.options.elementIndex.bind(this)),gx.util.isFunction(this.options.elementLabel)&&(this.getLink=this.options.elementLabel.bind(this)),gx.util.isFunction(this.options.elementSelect)&&(this.showSelection=this.options.elementSelect.bind(this)),gx.util.isArray(this.options.data)&&this.setData(this.options.data),null!=this.options.value&&gx.util.isString(this.options.elementIndex)&&this.options.data.each(function(a){a[this.options.elementIndex]==this.options.value&&this.set(a,!0)}.bind(this))}catch(d){throw d.message="gx.zeyos.Select: "+d.message,d}},set:function(a,b){return this._selected=a,this.update(0!=b)},setId:function(a){for(var b,c=this.getRows(),d=0;d<c.length;d++)if(b=c[d].retrieve("data"),this.getId(b)==a)return void this.set(b)},update:function(a){return null!=a&&a||this.fireEvent(null==this._selected?"noselect":"select",this._selected),this.showSelection(this._selected),this.hide(),this},showSelection:function(){this._display.textbox.set("value",null==this._selected?"":this._selected[this.options.elementSelect])},getId:function(a){return null!=a?a[this.options.elementIndex]:null!=this._selected?this._selected[this.options.elementIndex]:null
},getLink:function(a){return new Element("div",{"class":"sel_item ico",html:a[this.options.elementLabel]})},getRows:function(){return this._display.dropdown.getElements(">div")},setData:function(a){var b=this;try{this._display.dropdown.empty(),this._currentElem=null,this.options.resetable&&this._display.dropdown.adopt(__({tag:"li",child:{tag:"a","class":"reset",html:this.options.resetable,onClick:function(){this.set()}.bind(this)}}));var c=function(a,c){a.addEvent("click",function(){b.set(c)})};null!=this.options.elementDefault&&(a=[this.options.elementDefault].append(a));var d=a.length;for(i=0;d>i;i++)if(null!=a[i]){var e=this.getLink(a[i]);null!=this._selected&&this.getId(a[i])==this.getId(this._selected)&&e.addClass("act"),e.store("data",a[i]),e.store("key",i),this._display.dropdown.adopt(e),c(e,a[i])}}catch(f){throw f.message="gx.zeyos.Select: "+f.message,f}return this},show:function(){return this._display.textbox.disabled?this:(this._display.fieldset.addClass("act"),this._display.textbox.focus(),this.fireEvent("show"),this)},hide:function(){return this.isOpen()?(this._display.fieldset.removeClass("act"),this.clearCursor(),this.fireEvent("hide"),this.update()):this},isOpen:function(){return this._display.fieldset.hasClass("act")},getValue:function(){return this.getId()},getSelected:function(){return this._selected},clearCursor:function(){null!=this._currentElem&&(this._currentElem.removeClass("act"),this._currentElem=null)},reset:function(a){return this.set(null,a)},enable:function(){return this._display.textbox.erase("disabled"),this},disable:function(){return this._display.textbox.set("disabled",!0),this}}),gx.zeyos.SelectPrio=new Class({gx:"gx.zeyos.SelectPrio",Extends:gx.zeyos.Select,options:{elementIndex:"value",data:[{value:0,color:"#008000",symbol:"■□□□□",label:"lowest"},{value:1,color:"#ffc000",symbol:"■■□□□",label:"low"},{value:2,color:"#ff8000",symbol:"■■■□□",label:"medium"},{value:3,color:"#ff4000",symbol:"■■■■□",label:"high"},{value:4,color:"#c00000",symbol:"■■■■■",label:"highest"}],value:0},_labels:{},initialize:function(a,b){try{var c={lowest:["Lowest","priority.lowest"],low:["Low","priority.low"],medium:["Medium","priority.medium"],high:["High","priority.high"],highest:["Highest","priority.highest"]};"function"==typeof _?Object.each(c,function(a,b){this._labels[b]=_(a[1])}.bind(this)):Object.each(c,function(a,b){this._labels[b]=a[0]}.bind(this)),this.parent(a,b)}catch(d){throw d.message="gx.zeyos.Select: "+d.message,d}},showSelection:function(){this._display.textbox.set("value",null==this._selected?"":this._selected.symbol+" | "+this._labels[this._selected.label])},getLink:function(a){return new Element("div",{"class":"sel_item",html:a.symbol+" | "+this._labels[a.label],styles:{color:a.color}})}}),gx.zeyos.SelectFilter=new Class({gx:"gx.zeyos.SelectFilter",Extends:gx.zeyos.Select,options:{height:"200px",searchfields:["name"]},_lastSearch:null,initialize:function(a,b){try{this.addEvent("show",function(){this.search()}.bind(this)),this.parent(a,b)}catch(c){throw c.message="gx.zeyos.SelectFilter: "+c.message,c}},search:function(){try{var a=this._display.textbox.get("value");if(this._lastSearch==a)return;this.clearCursor(),this._lastSearch=a,this._searchQuery(a)}catch(b){throw b.message="gx.zeyos.SelectFilter: "+b.message,b}},_searchQuery:function(a){try{this._display.dropdown.getElements(">div").each(function(b){for(var c,d=b.retrieve("data",{}),e=0;e<this.options.searchfields.length;e++){if(c=this.options.searchfields[e],""==a)return void b.removeClass("hidden");switch(typeOf(d[c])){case"number":d[c]=d[c].toString();case"string":if(d[c].test(a,"i"))return void b.removeClass("hidden")}}b.addClass("hidden")}.bind(this))}catch(b){throw b.message="gx.zeyos.SelectFilter: "+b.message,b}},showLoader:function(){return this},hideLoader:function(){}}),gx.zeyos.SelectDyn=new Class({gx:"gx.zeyos.SelectDyn",Extends:gx.zeyos.SelectFilter,options:{url:"./",method:"GET",queryParam:"query",parseDefault:!1,requestData:{}},_requestChain:[],_firstLoad:!1,initialize:function(a,b){try{null==b.onRequestSuccess&&(this.options.parseDefault=!0),this.addEvent("show",function(){this._firstLoad||(this.search(),this._firstLoad=!0)}.bind(this)),this.parent(a,b),gx.util.isFunction(this.options.queryParam)&&(this.getRequetData=this.options.queryParam.bind(this)),this.options.parseDefault&&this.addEvent("requestSuccess",function(a){var b=gx.util.parseResult(a);this.setData(gx.util.isArray(b)?b:[])}.bind(this))}catch(c){throw c.message="gx.zeyos.SelectDyn: "+c.message,c}},getRequetData:function(a,b){return b[this.options.queryParam]=a,b},_searchQuery:function(a){var b=new Request({method:this.options.method,url:this.options.url,data:this.getRequetData(a,Object.clone(this.options.requestData)),onRequest:function(){this.showLoader()}.bind(this),onComplete:function(){this.hideLoader();var a=this._requestChain.pop();null!=a&&a!=b&&(this._requestChain=[],a.send())}.bind(this),onSuccess:function(a){this.fireEvent("requestSuccess",a)}.bind(this),onFailure:function(){this.fireEvent("requestFailure")}.bind(this)});this._requestChain.push(b),1==this._requestChain.length&&b.send()}}),gx.zeyos.Tabbox=new Class({gx:"gx.zeyos.Tabbox",Extends:gx.ui.Container,options:{frames:[],height:!1,show:1,onChange:!1,lang:"ltr"},_tabs:[],_frames:[],_active:"",initialize:function(a,b){var c=this;try{this.parent(a,b),this._display=Object.merge({},this._display,{div:new Element("div",{"class":"tab"}),content:new Element("div",{styles:{overflow:"auto"}})}),c.options.height&&this._display.content.setStyle("height",c.options.height),this._display.root.adopt(this._display.div),this._display.root.adopt(this._display.content);var d=this.options.frames;if(gx.util.isArray(d)&&d.each(function(a){c.addTab(a.name,a.title,a.content)}),gx.util.isFunction(this.options.onChange)&&this.addEvent("change",this.options.onChange),gx.util.isString(this.options.show))this.openTab(this.options.show);else if(gx.util.isNumber(this.options.show)){var e=this.getIndexName(this.options.show);e&&this.openTab(e)}}catch(f){gx.util.Console("gx.zeyos.Tabbox->initialize",f.message)}},setHeight:function(a){this._display.content.setStyle("height",a)},addTab:function(a,b,c){var d=this;try{switch(typeOf(c)){case"string":c=new Element("div",{html:c});break;case"textnode":c=new Element("div").adopt(c);break;case"element":break;default:return!1}if(gx.util.isString(a)&&gx.util.isString(b)&&gx.util.isNode(c)&&!gx.util.isNode(this._tabs[a])){var e=new Element("fieldset",{"class":"tab_item",html:b.replace(/ /g,"&nbsp;")});return c.setStyle("display","none"),this._frames[a]=c,this._tabs[a]=e,this._display.div.adopt(e),this._display.content.adopt(c),e.addEvent("click",function(){d.openTab(a)}),!0}return!1}catch(f){throw gx.util.Console("gx.zeyos.Tabbox->addTab",f.message),f}},closeTab:function(a){try{gx.util.isNode(this._tabs[a])&&(this._tabs[a].removeClass("act"),this._frames[a].setStyle("display","none"),this._active=!1)}catch(b){gx.util.Console("gx.zeyos.Tabbox->closeTab",b.message)}},openTab:function(a){try{gx.util.isNode(this._tabs[a])&&(this._active&&this.closeTab(this._active),this._active=a,this._tabs[a].addClass("act"),this._frames[a].setStyle("display","block"),this.fireEvent("change",a))}catch(b){gx.util.Console("gx.zeyos.Tabbox->openTab",b.message)}},getIndexName:function(a){var b=0;for(name in this._tabs)if(b++,b==a)return name;return!1}}),gx.zeyos.Table=new Class({gx:"gx.bootstrap.Table",Extends:gx.ui.Table,_theme:{filterAsc:"asc",filterDesc:"desc",unfiltered:"",th:"th",filter:"filter",filterElem:"div",mainTable:"tbl",mainThead:"",mainTheadRow:"tbl_head",mainTbody:"",wrapper:"",emptyCol:"",headerTable:"tbl",tbodyTr:"tbl_row",oddRow:"bg",colCheck:"tbl_chk"}}),gx.zeyos.TimePicker=new Class({gx:"gx.zeyos.TimePicker",Extends:gx.zeyos.DatePicker,options:{format:"%H:%M"},initialize:function(a,b){try{null==b&&(b={}),null==b.picker&&(b.picker={}),b.picker.pickOnly="time",this.parent(a,b)}catch(c){gx.util.Console("gx.zeyos.TimePicker->initialize",gx.util.parseError(c))}}}),gx.zeyos.Timebox=new Class({gx:"gx.zeyos.Timebox",Extends:gx.ui.Container,options:{time:0,unit:"minutes",seconds:!0,prefix:!1,readonly:!1},_prefix:!0,_disabled:!1,_styles:{negative:{background:"#FBE3E4",color:"#8a1f11","border-color":"#FBC2C4"},positive:{background:"#E6EFC2",color:"#264409","border-color":"#C6D880"}},initialize:function(a,b){try{this.parent(a,b),this.build()}catch(c){gx.util.Console("gx.zeyos.Timebox->initialize",c.message)}},build:function(){var a=this;try{this.options.prefix&&(this._display.prefix=new Element("div",{html:"+",styles:Object.merge({},this._styles.positive,{height:"18px",width:"18px","text-align":"center",cursor:"pointer","font-weight":"bold","font-size":"12px",padding:"1px","margin-right":"3px","border-width":"1px","border-style":"solid","float":"left"})}),this._display.root.adopt(this._display.prefix),this.options.readonly||this._display.prefix.addEvent("click",function(){a._disabled||a.setPrefix(!a._prefix)})),this._display.hours=new Element("input",{type:"text",styles:{width:"25px","text-align":"center"}}),this._display.root.adopt(this._display.hours),this._display.hours.addEvent("change",function(){a.update()}),this._display.minutes=new Element("input",{type:"text",styles:{width:"25px","text-align":"center"}}),this._display.root.adopt(new Element("span",{html:":"})),this._display.root.adopt(this._display.minutes),this._display.minutes.addEvent("change",function(){a.update()}),this.options.readonly&&(this._display.hours.set("disabled","disabled"),this._display.minutes.set("disabled","disabled")),this.options.seconds&&(this._display.seconds=new Element("input",{type:"text",styles:{width:"25px","text-align":"center"}}),this._display.root.adopt(new Element("span",{html:":"})),this._display.root.adopt(this._display.seconds),this._display.seconds.addEvent("change",function(){a.update()}),this.options.readonly&&this._display.seconds.set("disabled","disabled"))}catch(b){gx.util.Console("gx.zeyos.Timebox->build",b.message)}},setPrefix:function(a){try{this._display.prefix&&(this._prefix=a,this._prefix?(this._display.prefix.setStyles(this._styles.positive),this._display.prefix.set("html","+")):(this._display.prefix.setStyles(this._styles.negative),this._display.prefix.set("html","-")))}catch(b){gx.util.Console("gx.zeyos.Timebox->setPrefix",b.message)}},addZero:function(a){return 10>a?"0"+a:a},update:function(){this.set(this.get())},splitTime:function(a,b){try{null==b&&(b=this.options.unit);var c=a>=0;c||(a=-a),"minutes"==b?a=60*a:"hours"==b&&(a=3600*a),a=Math.round(a);var d=0,e=Math.round(a/60);this.options.seconds&&(d=a%60,e=Math.floor(a/60));var f=Math.floor(e/60);return e%=60,{hours:f,minutes:this.addZero(e),seconds:this.addZero(d),prefix:c}}catch(g){throw gx.util.Console("gx.zeyos.Timebox->splitTime",g.message),g}},getNum:function(a){var b=parseInt(a.get("value"),10);return isNaN(b)?0:(0>b&&(this.setPrefix(!1),b=-b),b)},set:function(a,b){try{null==a&&(a=0),null==b&&(b=this.options.unit),a=this.splitTime(parseFloat(a),b),a.prefix||this.options.prefix?(this.setPrefix(a.prefix),this._display.hours.set("value",a.hours),this._display.minutes.set("value",a.minutes),this._display.seconds&&this._display.seconds.set("value",a.seconds)):(this._display.hours.set("value",0),this._display.minutes.set("value",0),this._display.seconds&&this._display.seconds.set("value",0))}catch(c){gx.util.Console("gx.zeyos.Timebox->set",c.message)}},get:function(a,b){try{null==b&&(b=0),null==a&&(a=this.options.unit);var c=this.getNum(this._display.hours),d=this.getNum(this._display.minutes),e=0;this._display.seconds&&(e=this.getNum(this._display.seconds));var f=(this._prefix?1:-1)*(3600*c+60*d+e);switch(a){case"hours":return Math.round(f/3600*Math.pow(10,b))/Math.pow(10,b);case"minutes":return Math.round(f/60*Math.pow(10,b))/Math.pow(10,b);default:return Math.round(f*Math.pow(10,b))/Math.pow(10,b)}}catch(g){throw gx.util.Console("gx.zeyos.Timebox->get",g.message),g}},enable:function(){this._disabled=!1,this._display.hours.erase("disabled"),this._display.minutes.erase("disabled"),this._display.seconds&&this._display.seconds.erase("disabled")},disable:function(){this._disabled=!0,this._display.hours.set("disabled",!0),this._display.minutes.set("disabled",!0),this._display.seconds&&this._display.seconds.set("disabled",!0)}}),gx.zeyos.Toggle=new Class({Extends:gx.ui.Container,options:{value:!0,on:!1},initialize:function(a,b){null==a&&(a=new Element("fieldset")),this.parent(a,b);var c=this;this._display.fieldset="fieldset"==this._display.root.get("tag")?this._display.root:new Element("fieldset",{"class":"m_r-10"}).inject(this._display.root,"top"),this._display.fieldset.addClass("tgl"),this._display.fieldset.addEvent("click",function(){c.toggle()}),this.options.on&&this._display.fieldset.addClass("act")},getState:function(){return this._display.fieldset.hasClass("act")?!0:!1},getValue:function(){return this._display.fieldset.hasClass("act")?this.options.value:!1},toggle:function(){this._display.fieldset.hasClass("act")?this.setUnchecked():this.setChecked()},setChecked:function(){this._display.fieldset.addClass("act"),this.fireEvent("check")},setUnchecked:function(){this._display.fieldset.removeClass("act"),this.fireEvent("uncheck")}});